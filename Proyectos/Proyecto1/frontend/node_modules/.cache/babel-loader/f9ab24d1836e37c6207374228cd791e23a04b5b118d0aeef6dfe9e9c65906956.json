{"ast":null,"code":"import React,{useEffect,useState}from'react';import'bootstrap/dist/css/bootstrap.min.css';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Card from'../components/card';import PieChart from'../components/piechart';import LineChart from'../components/linechart';import'../css/monitor.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Monitor(){//Constantes para las graficas\nconst[data_ram,setDataRam]=useState([50,50]);const[data_cpu,setDataCpu]=useState([50,50]);const[data_history,setDataHistory]=useState('');useEffect(()=>{const fetchData=async()=>{// Hacer una solicitud a tu backend en el puerto 8000, endpoint /monitor\ntry{const response=await fetch('/api/monitor');if(!response.ok){throw new Error('Network response was not ok');}const resp=await response.json();console.log(resp);setDataRam(resp.data.ram_percentage);setDataCpu(resp.data.cpu_percentage);setDataHistory(resp.data_historial);}catch(error){console.error('Error:',error);}};// Realizar la primera solicitud al montar el componente\nfetchData();// Establecer un intervalo para realizar la solicitud cada 500ms\nconst intervalId=setInterval(fetchData,500);// Limpiar el intervalo al desmontar el componente\nreturn()=>clearInterval(intervalId);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"Contain\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Card,{title:\"Real-time Monitor\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(PieChart,{data:data_ram,labels:[\"Libre: \".concat(data_ram[0],\"%\"),\"En uso: \".concat(data_ram[1],\"%\")],colors:['#94d2bd','#005f73'],title:\"RAM\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(PieChart,{data:data_cpu,labels:[\"Libre: \".concat(data_cpu[0],\"%\"),\"En uso: \".concat(data_cpu[1],\"%\")],colors:['#ca6702','#bb3e03'],title:\"CPU\"})})]})})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Card,{title:\"Historic Monitor\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(LineChart,{data:data_history})})})})})})]})});}export default Monitor;","map":{"version":3,"names":["React","useEffect","useState","Container","Row","Col","Card","PieChart","LineChart","jsx","_jsx","jsxs","_jsxs","Monitor","data_ram","setDataRam","data_cpu","setDataCpu","data_history","setDataHistory","fetchData","response","fetch","ok","Error","resp","json","console","log","data","ram_percentage","cpu_percentage","data_historial","error","intervalId","setInterval","clearInterval","className","children","title","labels","concat","colors"],"sources":["/home/josep/USAC/7mo_Semestre/Sistemas_operativos_1/Laboratorio/Repositorio/SO1_1S2024_202111478/Proyectos/Proyecto1/frontend/src/pages/monitor.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from '../components/card';\nimport PieChart from '../components/piechart';\nimport LineChart from '../components/linechart';\nimport '../css/monitor.css';\n\n\nfunction Monitor() {\n\n    //Constantes para las graficas\n    const [data_ram, setDataRam] = useState([50, 50]);\n    const [data_cpu, setDataCpu] = useState([50, 50]);\n    const [data_history, setDataHistory] = useState('');\n\n\n    useEffect(() => {\n        const fetchData = async () => {\n            // Hacer una solicitud a tu backend en el puerto 8000, endpoint /monitor\n            try {\n                const response = await fetch('/api/monitor');\n\n                if (!response.ok) {\n                    throw new Error('Network response was not ok');\n                }\n\n                const resp = await response.json();\n                console.log(resp);\n                setDataRam(resp.data.ram_percentage);\n                setDataCpu(resp.data.cpu_percentage);\n                setDataHistory(resp.data_historial);\n\n            } catch (error) {\n                console.error('Error:', error);\n            }\n        };\n\n        // Realizar la primera solicitud al montar el componente\n        fetchData();\n\n        // Establecer un intervalo para realizar la solicitud cada 500ms\n        const intervalId = setInterval(fetchData, 500);\n\n        // Limpiar el intervalo al desmontar el componente\n        return () => clearInterval(intervalId);\n    }, []);\n\n    return (\n        <div className='Contain'>\n            <Container>\n                <Row>\n                    <Col>\n                        <Card title={\"Real-time Monitor\"}>\n                            <Row>\n                                <Col>\n                                    <PieChart data={data_ram} labels={[`Libre: ${data_ram[0]}%`, `En uso: ${data_ram[1]}%`]} colors={['#94d2bd', '#005f73']} title={\"RAM\"} />\n                                </Col>\n                                <Col>\n                                    <PieChart data={data_cpu} labels={[`Libre: ${data_cpu[0]}%`, `En uso: ${data_cpu[1]}%`]} colors={['#ca6702', '#bb3e03']} title={\"CPU\"} />\n                                </Col>\n                            </Row>\n                        </Card>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col>\n                        <Card title={\"Historic Monitor\"}>\n                            <Row>\n                                <Col>\n                                    <LineChart data={data_history} />\n                                </Col>\n                            </Row>            \n                        </Card>\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    );\n}\n\nexport default Monitor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}