{"ast":null,"code":"import React,{useEffect,useRef}from'react';import Chart from'chart.js/auto';import{jsx as _jsx}from\"react/jsx-runtime\";const PieChart=_ref=>{let{data,labels,colors,title}=_ref;let chartRef=useRef(null);useEffect(()=>{let myChart=null;if(chartRef.current&&myChart){myChart.destroy();// Si el gráfico ya existe, destrúyelo\n}const ctx=chartRef.current.getContext('2d');myChart=new Chart(ctx,{type:'pie',data:{labels:labels,datasets:[{label:title,data:data,backgroundColor:colors,borderColor:colors,hoverBackgroundColor:colors,//['#269fbd', '#87f4e8'],\nborderWidth:1}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'top',animatiom:false},title:{display:true,text:title}},animation:{duration:0}}});return()=>{if(myChart){myChart.destroy();// Asegúrate de destruir el gráfico al desmontar el componente\n}};},[data,labels,colors,title]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"canvas\",{ref:chartRef})});};export default PieChart;","map":{"version":3,"names":["React","useEffect","useRef","Chart","jsx","_jsx","PieChart","_ref","data","labels","colors","title","chartRef","myChart","current","destroy","ctx","getContext","type","datasets","label","backgroundColor","borderColor","hoverBackgroundColor","borderWidth","options","responsive","maintainAspectRatio","plugins","legend","position","animatiom","display","text","animation","duration","children","ref"],"sources":["/home/josep/USAC/7mo_Semestre/Sistemas_operativos_1/Laboratorio/Repositorio/SO1_1S2024_202111478/Proyectos/Proyecto1/frontend/src/components/piechart.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport Chart from 'chart.js/auto';\n\nconst PieChart = ({ data, labels, colors,title}) => {\n  let chartRef = useRef(null);\n\n  useEffect(() => {\n    let myChart = null;\n    if (chartRef.current && myChart) {\n      myChart.destroy(); // Si el gráfico ya existe, destrúyelo\n    }\n\n    const ctx = chartRef.current.getContext('2d');\n    myChart = new Chart(ctx, {\n      type: 'pie',\n      data: {\n        labels: labels,\n        datasets: [{\n          label: title,\n          data: data,\n          backgroundColor: colors,\n          borderColor: colors,\n          hoverBackgroundColor: colors, //['#269fbd', '#87f4e8'],\n            borderWidth: 1\n        }]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            position: 'top',\n            animatiom: false\n          },\n          title: {\n            display: true,\n            text: title\n          }\n        },\n        animation: {\n          duration: 0\n        }\n      }\n    });\n    return () => {\n      if (myChart) {\n        myChart.destroy(); // Asegúrate de destruir el gráfico al desmontar el componente\n      }\n    };\n  }, [data, labels, colors,title]);\n\n  return (\n    <div>\n      <canvas ref={chartRef}></canvas>\n    </div>\n  );\n};\n\nexport default PieChart;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,MAAO,CAAAC,KAAK,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElC,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAmC,IAAlC,CAAEC,IAAI,CAAEC,MAAM,CAAEC,MAAM,CAACC,KAAK,CAAC,CAAAJ,IAAA,CAC7C,GAAI,CAAAK,QAAQ,CAAGV,MAAM,CAAC,IAAI,CAAC,CAE3BD,SAAS,CAAC,IAAM,CACd,GAAI,CAAAY,OAAO,CAAG,IAAI,CAClB,GAAID,QAAQ,CAACE,OAAO,EAAID,OAAO,CAAE,CAC/BA,OAAO,CAACE,OAAO,CAAC,CAAC,CAAE;AACrB,CAEA,KAAM,CAAAC,GAAG,CAAGJ,QAAQ,CAACE,OAAO,CAACG,UAAU,CAAC,IAAI,CAAC,CAC7CJ,OAAO,CAAG,GAAI,CAAAV,KAAK,CAACa,GAAG,CAAE,CACvBE,IAAI,CAAE,KAAK,CACXV,IAAI,CAAE,CACJC,MAAM,CAAEA,MAAM,CACdU,QAAQ,CAAE,CAAC,CACTC,KAAK,CAAET,KAAK,CACZH,IAAI,CAAEA,IAAI,CACVa,eAAe,CAAEX,MAAM,CACvBY,WAAW,CAAEZ,MAAM,CACnBa,oBAAoB,CAAEb,MAAM,CAAE;AAC5Bc,WAAW,CAAE,CACjB,CAAC,CACH,CAAC,CACDC,OAAO,CAAE,CACPC,UAAU,CAAE,IAAI,CAChBC,mBAAmB,CAAE,KAAK,CAC1BC,OAAO,CAAE,CACPC,MAAM,CAAE,CACNC,QAAQ,CAAE,KAAK,CACfC,SAAS,CAAE,KACb,CAAC,CACDpB,KAAK,CAAE,CACLqB,OAAO,CAAE,IAAI,CACbC,IAAI,CAAEtB,KACR,CACF,CAAC,CACDuB,SAAS,CAAE,CACTC,QAAQ,CAAE,CACZ,CACF,CACF,CAAC,CAAC,CACF,MAAO,IAAM,CACX,GAAItB,OAAO,CAAE,CACXA,OAAO,CAACE,OAAO,CAAC,CAAC,CAAE;AACrB,CACF,CAAC,CACH,CAAC,CAAE,CAACP,IAAI,CAAEC,MAAM,CAAEC,MAAM,CAACC,KAAK,CAAC,CAAC,CAEhC,mBACEN,IAAA,QAAA+B,QAAA,cACE/B,IAAA,WAAQgC,GAAG,CAAEzB,QAAS,CAAS,CAAC,CAC7B,CAAC,CAEV,CAAC,CAED,cAAe,CAAAN,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}